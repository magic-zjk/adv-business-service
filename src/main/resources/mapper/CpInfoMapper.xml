<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.imopan.adv.platform.mapper.CpInfoMapper">
	<resultMap id="BaseResultMap" type="com.imopan.adv.platform.entity.CpInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="ID" property="id" jdbcType="INTEGER" />
	    <result column="NAME" property="name" jdbcType="VARCHAR" />
	    <result column="FULL_NAME" property="fullName" jdbcType="VARCHAR" />
	    <result column="CP_DESC" property="cpDesc" jdbcType="VARCHAR" />
	    <result column="CP_TEL" property="cpTel" jdbcType="VARCHAR" />
	    <result column="CP_CONTACTS" property="cpContacts" jdbcType="VARCHAR" />
	    <result column="CP_CONTACTS_TEL" property="cpContactsTel" jdbcType="VARCHAR" />
	    <result column="MP_BUSINESS_NAME" property="mpBusinessName" jdbcType="VARCHAR" />
	    <result column="CP_CATEGORY_ID" property="cpCategoryId" jdbcType="INTEGER" />
	    <result column="MP_BUSINESS_ID" property="mpBusinessId" jdbcType="INTEGER" />
	    <result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
	    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" prefixOverrides="and" suffix=")">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value} and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach close=")" collection="criterion.value" item="listItem"
										open="(" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	 <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    	ID, `NAME`, FULL_NAME, CP_DESC, CP_TEL, CP_CONTACTS, CP_CONTACTS_TEL, MP_BUSINESS_NAME, 
    	CP_CATEGORY_ID, MP_BUSINESS_ID, UPDATE_TIME, CREATE_TIME
  	</sql>
	<select id="selectByExample" parameterType="com.imopan.adv.platform.entity.CpInfoExample"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<if test="distinct">
			distinct
		</if>
		'false' as QUERYID,
		<include refid="Base_Column_List" />
		from cp_info
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
		<if test="limitStart != null and limitStart&gt;=0">
			limit #{limitStart} , #{limitEnd}
		</if>
	</select>
	<select id="selectByPrimaryKey" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from cp_info_v2
		where ID = #{id,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from cp_info_v2
		where ID = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.imopan.adv.platform.entity.CpInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into cp_info_v2 (ID, `NAME`, FULL_NAME, 
      CP_DESC, CP_TEL, CP_CONTACTS, 
      CP_CONTACTS_TEL, MP_BUSINESS_NAME, CP_CATEGORY_ID, 
      MP_BUSINESS_ID, UPDATE_TIME, CREATE_TIME
      )
    values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{fullName,jdbcType=VARCHAR}, 
      #{cpDesc,jdbcType=VARCHAR}, #{cpTel,jdbcType=VARCHAR}, #{cpContacts,jdbcType=VARCHAR}, 
      #{cpContactsTel,jdbcType=VARCHAR}, #{mpBusinessName,jdbcType=VARCHAR}, #{cpCategoryId,jdbcType=INTEGER}, 
      #{mpBusinessId,jdbcType=INTEGER}, #{updateTime,jdbcType=TIMESTAMP}, #{createTime,jdbcType=TIMESTAMP}
      )
	</insert>
	<insert id="insertSelective" parameterType="com.imopan.adv.platform.entity.CpInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into cp_info_v2
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="name != null" >
        `NAME`,
      </if>
      <if test="fullName != null" >
        FULL_NAME,
      </if>
      <if test="cpDesc != null" >
        CP_DESC,
      </if>
      <if test="cpTel != null" >
        CP_TEL,
      </if>
      <if test="cpContacts != null" >
        CP_CONTACTS,
      </if>
      <if test="cpContactsTel != null" >
        CP_CONTACTS_TEL,
      </if>
      <if test="mpBusinessName != null" >
        MP_BUSINESS_NAME,
      </if>
      <if test="cpCategoryId != null" >
        CP_CATEGORY_ID,
      </if>
      <if test="mpBusinessId != null" >
        MP_BUSINESS_ID,
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="fullName != null" >
        #{fullName,jdbcType=VARCHAR},
      </if>
      <if test="cpDesc != null" >
        #{cpDesc,jdbcType=VARCHAR},
      </if>
      <if test="cpTel != null" >
        #{cpTel,jdbcType=VARCHAR},
      </if>
      <if test="cpContacts != null" >
        #{cpContacts,jdbcType=VARCHAR},
      </if>
      <if test="cpContactsTel != null" >
        #{cpContactsTel,jdbcType=VARCHAR},
      </if>
      <if test="mpBusinessName != null" >
        #{mpBusinessName,jdbcType=VARCHAR},
      </if>
      <if test="cpCategoryId != null" >
        #{cpCategoryId,jdbcType=INTEGER},
      </if>
      <if test="mpBusinessId != null" >
        #{mpBusinessId,jdbcType=INTEGER},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
	</insert>
	<select id="countByExample" parameterType="com.imopan.adv.platform.entity.CpInfoExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*) from cp_info_v2
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByPrimaryKeySelective" parameterType="com.imopan.adv.platform.entity.CpInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update cp_info_v2
    <set >
      <if test="name != null" >
        `NAME` = #{name,jdbcType=VARCHAR},
      </if>
      <if test="fullName != null" >
        FULL_NAME = #{fullName,jdbcType=VARCHAR},
      </if>
      <if test="cpDesc != null" >
        CP_DESC = #{cpDesc,jdbcType=VARCHAR},
      </if>
      <if test="cpTel != null" >
        CP_TEL = #{cpTel,jdbcType=VARCHAR},
      </if>
      <if test="cpContacts != null" >
        CP_CONTACTS = #{cpContacts,jdbcType=VARCHAR},
      </if>
      <if test="cpContactsTel != null" >
        CP_CONTACTS_TEL = #{cpContactsTel,jdbcType=VARCHAR},
      </if>
      <if test="mpBusinessName != null" >
        MP_BUSINESS_NAME = #{mpBusinessName,jdbcType=VARCHAR},
      </if>
      <if test="cpCategoryId != null" >
        CP_CATEGORY_ID = #{cpCategoryId,jdbcType=INTEGER},
      </if>
      <if test="mpBusinessId != null" >
        MP_BUSINESS_ID = #{mpBusinessId,jdbcType=INTEGER},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where ID = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.imopan.adv.platform.entity.CpInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update cp_info_v2
    set `NAME` = #{name,jdbcType=VARCHAR},
      FULL_NAME = #{fullName,jdbcType=VARCHAR},
      CP_DESC = #{cpDesc,jdbcType=VARCHAR},
      CP_TEL = #{cpTel,jdbcType=VARCHAR},
      CP_CONTACTS = #{cpContacts,jdbcType=VARCHAR},
      CP_CONTACTS_TEL = #{cpContactsTel,jdbcType=VARCHAR},
      MP_BUSINESS_NAME = #{mpBusinessName,jdbcType=VARCHAR},
      CP_CATEGORY_ID = #{cpCategoryId,jdbcType=INTEGER},
      MP_BUSINESS_ID = #{mpBusinessId,jdbcType=INTEGER},
      UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP}
    where ID = #{id,jdbcType=INTEGER}
	</update>
	<select id="getCpInterfaceList" parameterType="map"
		resultType="com.imopan.adv.platform.vo.CpInterfaceVo">
		SELECT
		a.`ID` as `id`,
		b.CP_S_NAME AS cpShortName,
		a.`NAME` AS cpInterfaceName,
		a.MP_BUSINESS_NAME AS mpbusinessname,
		a.CALLBACK_URL AS callBackUrl,
		b.CP_CONTACTS AS cpcontacts,
		CP_CONTACTS_TEL AS cpcontactsTel
		FROM
		cp_interface_info a
		LEFT JOIN cp_info b ON a.CP_ID = b.ID
		WHERE
		1 = 1
		<if test="param!=null and param!=''">
			AND b.CP_S_NAME LIKE #{qparam}
			OR a.`NAME` LIKE #{qparam}
			OR a.ID LIKE #{qparam}
			OR a.MP_BUSINESS_NAME LIKE #{qparam}
		</if>
		ORDER BY
		a.CREATE_TIME DESC
		LIMIT #{limitstart} ,#{limitend}
	</select>
	<select id="getCpInterfaceList_count" parameterType="map"
		resultType="int">
		SELECT
		count(a.ID)
		FROM
		cp_interface_info a
		LEFT JOIN cp_info b ON a.CP_ID = b.ID
		WHERE
		1 = 1
		<if test="param!=null and param!=''">
			AND b.CP_S_NAME LIKE #{qparam}
			OR a.`NAME` LIKE #{qparam}
			OR a.ID LIKE #{qparam}
			OR a.MP_BUSINESS_NAME LIKE #{qparam}
		</if>

	</select>
</mapper>